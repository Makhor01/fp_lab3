# Лабораторной работа №3
## Реализация интерполяции
### Выполнил: Хорошев М. Д. P3325

## Постановка задачи

Разработать программу, осуществляющую интерполяцию функции по заданным точкам.

#### Требования

- необходимо поддерживать работу с несколькими алгоритмами интерполяции одновременно
- расчет интерполяции должен производиться в оконном режиме по мере получения данных
- потоковая обработка входных данных из stdin с выводом в stdout
- требуется динамически осуществлять расчет и вывод новых значений сразу после получения достаточного количества входных данных
- для каждого метода необходимо выводить таблицу расчета значений интерполяционной функции в тестовых точках с фиксированным шагом на данном интервале
- cli для настройки режима работы
- алгоритмы: линейная интерполяция, многочлен Лагранжа

## Реализация

Структура проекта:

- `main.ml` - точка входа в приложение
- `interpolation.ml` - реализация линейной интерполяции и интерполяции по Лагранжу
- `runner.ml` - реализация запуска интерполяции
## Общий механизм работы программы

1. Типы данных и структуры:
- runner: Основная структура, которая хранит состояние программы. Она содержит:
- step — шаг, с которым генерируются значения x для интерполяции.
- points_stream — последовательность (поток) точек (x, y), введённых пользователем.
- interpolation_types — список методов интерполяции, которые будут использоваться.
- last_interpolated_x — список, хранящий последние значения x, для которых была выполнена интерполяция для каждого метода.
2. Основные функции:
- print_points: Выводит на экран список точек в виде таблицы (значения x и y).
- read_point: Запрашивает у пользователя ввод точки в формате X Y и возвращает её как кортеж (x, y).
- generate_x_values: Генерирует последовательность значений x от начального значения x_0 до конечного значения x с заданным шагом step.
- perform_interpolation: Выполняет интерполяцию для каждого метода из interpolation_types на основе текущего набора точек.
- upd_run: Основная функция, которая обновляет состояние программы (добавляет новую точку, выполняет интерполяцию и рекурсивно вызывает себя для продолжения работы).
- init_run: Инициализирует программу, запрашивая у пользователя начальные точки, и запускает основной цикл (upd_run).
## CLI
- Метод указывается через аргумент `-m`. Доступные методы: `lagrange`, `linear`, `both`.
- Шаг дискретизации указывается через аргумент `-s`.
